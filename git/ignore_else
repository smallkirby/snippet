#!/bin/bash

##############################
#
#  Lock target of git as files existing right now.
#
##############################

GITIGNORE=.gitignore

if [ -f .gitignore ]; then
  echo ".gitignore already exists"
  exit 1
fi

echo "### auto-generated by 'ignore_else' ###" > $GITIGNORE
echo "*" >> $GITIGNORE
\ls -1a | grep -v "^.$" | grep -v "^..$" | while read line; do
  echo !"$line" >> $GITIGNORE
done
echo "### END auto-generated by 'ignore_else' ###" >> $GITIGNORE

